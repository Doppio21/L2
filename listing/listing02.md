Что выведет программа? Объяснить вывод программы. Объяснить как работают defer’ы и их порядок вызовов.

package main

import (
	"fmt"
)

func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}

func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}

func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}

Данная программа выведет 2 1. 
При вызове test() x объявляется в возвращаемых параметрах функции
и при вызове отложенной функции меняется его значение.
При вызове anotherTest() х объявляется внутри функции, 
и при выходе будет возвращено его значение. После будет вызываться
отложенная функция, результат ее работы не сохраняется.

Defer’ы позволяют отложить выполнение операции до завершения внешней функции.
Отложенные функции выполняюся в обратном порядке, команда defer помещает вызов 
функции в стек. Поэтому они выполняются в очередности -LIFO (Last-In, First-Out)



